const getNYears = (dateString) => {
  let today = new Date();
  let birthDate = new Date(dateString);
  let age = today.getFullYear() - birthDate.getFullYear();
  let m = today.getMonth() - birthDate.getMonth();
  if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
    age--;
  }
  return age;
};

export const objectMaker = (inputData) => {
  const splt = inputData.name.split(" ");
  let pw = "";
  let alph = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  alph += alph.toLowerCase();
  alph += "0123456789";
  for (let i = 0; i < 10; i++) {
    pw += alph.charAt(Math.random() * alph.length);
  }

  const outpt = {
    id: pw, // случайны id из 10 символов
    firstName:
      splt[0].slice(0, 1).toUpperCase() + splt[0].slice(1).toLowerCase(), // первая буква большая, остальные строчные
    lastName:
      splt[1].slice(0, 1).toUpperCase() + splt[1].slice(1).toLowerCase(), // первая буква большая, остальные строчные
    dateBirth: inputData,
    age: getNYears(inputData.dateBirth), // высчитывается возраст на текущий день
    purpose:
      inputData.purpose.slice(0, 1).toUpperCase() +
      inputData.purpose.slice(1).toLowerCase(), // первая буква большая, остальные строчные
  };
  return JSON.stringify(outpt);
};

export default objectMaker;